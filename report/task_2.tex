%% Task 2

\begin{Figure}
    \centering
    \begin{tikzpicture}
        \begin{groupplot}[
            group style={
                group name = task_2,
                group size=1 by 2,
                vertical sep=0pt,
                xlabels at=edge bottom,
            },
            height=6cm,
            width=\linewidth,
            ybar interval,
            separate axis lines,
            xtick=,
            xmin=0,
            xmax=4,
            ymin=0,
            ymax=40,
            xlabel={Speed},
        ]
        \nextgroupplot
            \addplot+[hist={bins=16}]
                table[
                    y = v_1,
                ]{../data/task_2_speeds.csv};
        \nextgroupplot[
            ylabel=Number of particles,
            every axis y label/.append style={at=(ticklabel cs:1.0)}
        ]
            \addplot+[hist={bins=16}]
                table[
                    y = v_2,
                ]{../data/task_2_speeds.csv};
        \end{groupplot}
        \begin{axis}[
            xlabel={Speed},
            ylabel={Number of particles},
            x unit = m/s,
            ybar interval,
            hist/intervals=true,
            grid=minor,
            anchor=north west,
            hide y axis,
            hide x axis,
        ]
    %    \addplot[
    %        domain=0:10,
    %        samples=100,
    %        color=black,
    %        xtick=\empty,
    %        ]
    %        {(2*x/0.1)*exp(-((x)^2)/10)};
        \end{axis}
    \end{tikzpicture}
    \captionof{figure}{Histogram showing the speed distribution of a system containing equalt parts of two types of particles:
        One with mass $m=m_0$ (above), and one with mass $m=4m_0$ (below).}
    \label{fig:task_2:vel_distribution}
\end{Figure}
